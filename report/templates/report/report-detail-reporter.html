{% extends 'base.html' %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3">
            <div class="row mt-3">
                <div class="col-sm-12">
                    <h5>Details</h5>
                    <hr />
                </div>
                <div class="container">
                    <ul class="list-group">
                        <li class="list-group-item">Type : {{ object.emergency }}</li>
                        <li class="list-group-item">Reporter : {{ object.reporter }}</li>
                        <li class="list-group-item">Timestamp : {{ object.timestamp|timesince }} ago</li>
                        <li class="list-group-item">Address : {{ object.address }}</li>
                        <li class="list-group-item">Verifies : {{ object.verifies.count }}</li>
                    </ul>
                </div>  
            </div>
        </div>
        <div class="col-sm-9">
            <div class="row mt-3">
                <div class="col-sm-12">
                    <h5>Map</h5>
                    <hr />
                </div>
                <div class="col-sm-12">
                    <div class="" id="map" style="width:100%;height:500px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let reportLat = parseFloat('{{ object.latitude }}')
    let reportLng = parseFloat('{{ object.longitude }}')

    function initMap(){
        reportCoordinates = {lat: reportLat, lng: reportLng}
        var map = new google.maps.Map(document.getElementById('map'),{zoom: 18, center: reportCoordinates,})

        var marker = new google.maps.Marker({
            position: reportCoordinates,
            map: map,
        })
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBLvHFeixDacvhmdX-L_0EoG4of6n0pM1A&callback=initMap" type="text/javascript"></script>
{% endblock content %}